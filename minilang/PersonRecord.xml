<?xml version="1.0" encoding="UTF-8"?>

<simple-methods xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                xmlns="http://ofbiz.apache.org/Simple-Method" xsi:schemaLocation="http://ofbiz.apache.org/Simple-Method http://ofbiz.apache.org/dtds/simple-methods.xsd">
<simple-method method-name="createPersonRecord" short-description="Create a Person Record">

    <log level="info" message="============================Created new shipment ${parameters.partyId}"/>
    <entity-one entity-name="PersonEntity" value-field="party">
        <field-map field-name="partyId" from-field="parameters.partyId"/>
    </entity-one>
    <log level="info" message="============================Record of newEntity1 ${newEntity1}"/>

    <if-empty field="party">
        <make-value entity-name="PersonEntity" value-field="newEntity"/>
        <set-nonpk-fields map="parameters" value-field="newEntity"/>
        <set-pk-fields map="parameters" value-field="newEntity"/>
        <make-next-seq-id value-field="newEntity" seq-field-name="partyId" numeric-padding="2"/>
        <field-to-result field="newEntity.partyId" result-name="partyId"/>
        <create-value value-field="newEntity"/>
	<else>
            <set-nonpk-fields map="parameters" value-field="party"/>
            <field-to-result field="party.partyId" result-name="partyId"/>
            <store-value value-field="party"/>    
        </else>
    </if-empty>


</simple-method>
</simple-methods>


